(this["webpackJsonpmarvel-app"]=this["webpackJsonpmarvel-app"]||[]).push([[0],{26:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(19),s=n.n(i),r=(n(26),n(4)),l=n(2),o=n(20),d=n(6),j=n.n(d),u="...",b=function(e,t){var n=t-e+1;return Array.from({length:n},(function(t,n){return n+e}))},m=n(0),v=function(e){var t=e.onPageChange,n=e.totalCount,c=e.siblingCount,i=void 0===c?1:c,s=e.currentPage,l=e.pageSize,d=e.className,v=function(e){var t=e.totalCount,n=e.pageSize,c=e.siblingCount,i=void 0===c?1:c,s=e.currentPage;return Object(a.useMemo)((function(){var e=Math.ceil(t/n);if(i+5>=e)return b(1,e);var a=Math.max(s-i,1),c=Math.min(s+i,e),l=a>2,o=c<e-2,d=1,j=e;if(!l&&o){var m=b(1,3+2*i);return[].concat(Object(r.a)(m),[u,e])}if(l&&!o){var v=b(e-(3+2*i)+1,e);return[d,u].concat(Object(r.a)(v))}if(l&&o){var h=b(a,c);return[d,u].concat(Object(r.a)(h),[u,j])}}),[t,n,i,s])}({currentPage:s,totalCount:n,siblingCount:i,pageSize:l});if(0===s||v.length<2)return null;var h=v[v.length-1];return Object(m.jsxs)("ul",{className:j()("pagination-container",Object(o.a)({},d,d)),children:[Object(m.jsx)("li",{className:j()("pagination-item",{disabled:1===s}),onClick:function(){t(s-1)},children:Object(m.jsx)("div",{className:"arrow left"})}),v.map((function(e,n){return e===u?Object(m.jsx)("li",{className:"pagination-item dots",children:"\u2026"},n):Object(m.jsx)("li",{className:j()("pagination-item",{selected:e===s}),onClick:function(){return t(e)},children:e},n)})),Object(m.jsx)("li",{className:j()("pagination-item",{disabled:s===h}),onClick:function(){t(s+1)},children:Object(m.jsx)("div",{className:"arrow right"})})]})},h="portrait_incredible",O="detail",f=function(e){var t=e.page,n=e.items,c=e.handleSelectedItem,i=e.setFilteredItems,s=e.setPage,r=e.handleReset,o=Object(a.useState)(""),d=Object(l.a)(o,2),j=d[0],u=d[1],b=function(e){var t=localStorage.getItem(e.id);return t||null},v=function(){if(""!==j){var e=j.toUpperCase().trim(),t=n.filter((function(t){return t.name.toUpperCase().includes(e)}));i(t),s(1)}else r()};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"search-container",children:Object(m.jsxs)("div",{className:"search-container-inner",children:[Object(m.jsx)("input",{id:"search",type:"text",placeholder:"Search..",value:j,onKeyDown:function(e){return"Enter"===e.key&&v()},onChange:function(e){u(e.target.value),r()}}),Object(m.jsx)("button",{onClick:function(){return v()},children:Object(m.jsx)("i",{className:"fa fa-search"})})]})}),Object(m.jsx)("div",{className:"row",children:function(){for(var e=[],a=function(t){n[t]?e.push(Object(m.jsx)("div",{className:"column",onClick:function(){return e=n[t],void c(e);var e},children:Object(m.jsx)("div",{className:"card",children:Object(m.jsx)("div",{className:"card-cover",style:{backgroundImage:b(n[t])?"url(".concat(b(n[t]),")"):"url(".concat(n[t].thumbnail.path,"/").concat(h,".").concat(n[t].thumbnail.extension,")")},children:Object(m.jsx)("div",{className:"card-content",children:n[t].name})})})},t)):e.push(Object(m.jsx)("div",{className:"column",style:{opacity:"0"},children:Object(m.jsx)("div",{className:"card",children:Object(m.jsx)("div",{className:"card-cover",children:Object(m.jsx)("div",{className:"card-content"})})})},t))},i=5*t-5;i<5*t;i++)a(i);return e}()})]})},p=function(e){var t,n,c,i,s,r,o,d,j,u=e.item,b=e.handleSelectedItem,v=e.items,h=Object(a.useState)(""),f=Object(l.a)(h,2),p=f[0],x=f[1],g=Object(a.useState)(!1),N=Object(l.a)(g,2),S=N[0],y=N[1],w=Object(a.useState)(null),C=Object(l.a)(w,2),k=C[0],I=C[1],P=Object(a.useRef)(null);Object(a.useEffect)((function(){if(u&&u.name&&x(u.name),u&&u.id){var e=localStorage.getItem(u.id);e&&I(e)}}),[u]);var z=function(e){"IMAGE/JPEG"===e.type.toUpperCase()&&e.size<64e3?function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))}(e).then((function(e){localStorage.setItem(u.id,e),I(e)})):alert("Incorrect file type or size. JPEG only and less than 64kB.")};return Object(m.jsxs)("div",{className:"detail-wrapper",children:[Object(m.jsxs)("div",{className:"detail-wrapper-inner",children:[Object(m.jsx)("button",{className:"icon-button",onClick:function(){return b(null)},children:Object(m.jsx)("i",{className:"fa fa-arrow-left icon-back"})}),Object(m.jsxs)("div",{className:"input-wrapper",children:[Object(m.jsx)("input",{id:"name-input",value:p,onChange:function(e){x(e.target.value),y(!0)}}),S&&Object(m.jsx)("button",{className:"icon-button",onClick:function(){return function(){var e=v.map((function(e){return e.id===u.id&&(e.name=p),e}));localStorage.setItem("data",JSON.stringify(e)),y(!1)}()},children:Object(m.jsx)("i",{className:"fa fa-save icon-save"})})]})]}),Object(m.jsxs)("div",{className:"detail-image",style:{backgroundImage:k?"url(".concat(k,")"):"url(".concat(u.thumbnail.path,"/").concat(O,".").concat(u.thumbnail.extension,")")},children:[Object(m.jsx)("button",{className:"icon-button",onClick:function(){P.current.click()},children:Object(m.jsx)("i",{className:"fa fa-edit",style:{zIndex:"2",height:"40px",width:"40px",margin:"20px",fontSize:"30px"}})}),Object(m.jsx)("img",{className:"detail-image-mobile",src:k||"".concat(u.thumbnail.path,"/").concat(O,".").concat(u.thumbnail.extension)}),Object(m.jsx)("input",{id:"file",type:"file",ref:P,style:{display:"none"},onChange:function(e){return z(e.target.files[0])}})]}),Object(m.jsx)("div",{className:"detail-content-wrapper",children:Object(m.jsxs)("div",{className:"detail-content",children:[u.description,Object(m.jsx)("br",{}),(null===u||void 0===u||null===(t=u.stories)||void 0===t?void 0:t.items)&&(null===u||void 0===u||null===(n=u.stories)||void 0===n?void 0:n.items.length)>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("br",{}),Object(m.jsx)("div",{children:"Stories"}),Object(m.jsx)("br",{}),Object(m.jsx)("ul",{children:null===u||void 0===u||null===(c=u.stories)||void 0===c?void 0:c.items.map((function(e,t){return Object(m.jsxs)("li",{style:{fontSize:"0.8em"},children:[Object(m.jsx)("div",{children:e.name}),Object(m.jsx)("div",{style:{fontStyle:"italic"},children:e.type})]},t)}))})]}),(null===u||void 0===u||null===(i=u.events)||void 0===i?void 0:i.items)&&(null===u||void 0===u||null===(s=u.events)||void 0===s?void 0:s.items.length)>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("br",{}),Object(m.jsx)("div",{children:"Events"}),Object(m.jsx)("br",{}),Object(m.jsx)("ul",{children:null===u||void 0===u||null===(r=u.events)||void 0===r?void 0:r.items.map((function(e,t){return Object(m.jsx)("li",{style:{fontSize:"0.8em"},children:Object(m.jsx)("div",{children:e.name})},t)}))})]}),(null===u||void 0===u||null===(o=u.series)||void 0===o?void 0:o.items)&&(null===u||void 0===u||null===(d=u.series)||void 0===d?void 0:d.items.length)>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("br",{}),Object(m.jsx)("div",{children:"Series"}),Object(m.jsx)("br",{}),Object(m.jsx)("ul",{children:null===u||void 0===u||null===(j=u.series)||void 0===j?void 0:j.items.map((function(e,t){return Object(m.jsx)("li",{style:{fontSize:"0.8em"},children:Object(m.jsx)("div",{children:e.name})},t)}))})]}),Object(m.jsx)("br",{})]})})]})},x=function(){return Object(m.jsx)("div",{className:"loader-wrapper",children:Object(m.jsxs)("div",{className:"loader",children:[Object(m.jsx)("div",{className:"face",children:Object(m.jsx)("div",{className:"circle"})}),Object(m.jsx)("div",{className:"face",children:Object(m.jsx)("div",{className:"circle"})})]})})};var g=function(e){var t=e.items,n=Object(a.useState)(1),c=Object(l.a)(n,2),i=c[0],s=c[1],r=Object(a.useState)(null),o=Object(l.a)(r,2),d=o[0],j=o[1],u=Object(a.useState)(t),b=Object(l.a)(u,2),h=b[0],O=b[1];return Object(a.useEffect)((function(){t&&O(t)}),[t]),Object(m.jsxs)(m.Fragment,{children:[d?Object(m.jsx)(p,{item:d,handleSelectedItem:j,items:t}):Object(m.jsx)("div",{className:"app-wrapper",children:t&&t.length>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{page:i,items:h,handleSelectedItem:j,setFilteredItems:O,setPage:s,handleReset:function(){O(t),s(1)}}),Object(m.jsx)("div",{className:"pagination-wrapper",children:Object(m.jsx)(v,{className:"pagination-bar",currentPage:i,totalCount:h.length,pageSize:5,onPageChange:function(e){return s(e)}})})]}):Object(m.jsx)(x,{})}),Object(m.jsxs)("div",{className:"footer",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{className:"termsCo",target:"_blank",href:"https://www.termsandconditionsgenerator.com/live.php?token=N9DWpB3aWhFoHowgI3r9w9XJmME6iuDA",children:"Terms and Conditions"}),Object(m.jsx)("a",{className:"termsCo",target:"_blank",href:"https://www.privacypolicygenerator.info/live.php?token=5iZQY2ewIKi2dGo3QmZoWX7nUaHjBjRj",children:"Privacy Policy"})]}),t&&t.length>0&&Object(m.jsx)("div",{className:"marvel",children:"Data provided by Marvel. \xa9 2014 Marvel"})]})]})},N=n(21),S=n.n(N).a.create({baseURL:"https://gateway.marvel.com:443/v1/public"});var y=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(0),s=Object(l.a)(i,2),o=s[0],d=s[1],j=Object(a.useState)([]),u=Object(l.a)(j,2),b=u[0],v=u[1],h=Object(a.useState)(0),O=Object(l.a)(h,2),f=O[0],p=O[1];return Object(a.useEffect)((function(){var e;try{e=JSON.parse(localStorage.getItem("data"))}catch(n){}if(e&&e.length>0)c(e);else{var t=100;S.get("/characters?apikey=".concat("3bef010905a8a3da1ed16c62cb6c2d5c"),{params:{limit:t,offset:0}}).then((function(e){var n,a,c=Math.ceil(e.data.data.total/t);d(c);var i=function(e){var t=e.map((function(e){return{id:e.id,name:e.name,description:e.description,thumbnail:e.thumbnail,series:e.series,stories:e.stories,events:e.events}}));v((function(e){return[].concat(Object(r.a)(e),Object(r.a)(t))})),p((function(e){return e+1}))};(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.results)&&i(e.data.data.results);for(var s=1;s<c;)S.get("/characters?apikey=".concat("3bef010905a8a3da1ed16c62cb6c2d5c"),{params:{limit:t,offset:t*s}}).then((function(e){var t,n;(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.results)&&i(e.data.data.results)})).catch((function(e){console.log(e)})),s+=1})).catch((function(e){console.log(e)}))}}),[]),Object(a.useEffect)((function(){f===o&&b&&b.length>0&&(localStorage.setItem("data",JSON.stringify(b)),c(b))}),[f,b,o]),Object(m.jsx)(g,{items:n})};s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(y,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.7e1fbd5b.chunk.js.map